## Outlier Detection

If we take a brief looking back, Kats trend detection and changepoint detection in both Kats and Greykite all return detected data points. Beside, any other data points that are worthy to explore?

One of an interesting concept is the outliers in time series. As you saw in [Queen Lotus][1], an outlier is an object that's quite diffrent from the rest of the data. In time series, such data point can be insightful, such as a data peak in fraud detection might tell us when there might be an abnormal event, or the skyrocketing online sales during COVID time can help us forecast customers' behavior in such events better, or we saw an extremely high data volume that's caused by a system error which had been fixed and won't happen again, etc., etc., there are many other fun examples.

Some of these outliers can be ignored, some should be take into consideration of model forecasting. Therefore, it's often a good practice to understand that causes of the outliers after the detection, then decide whether to remove the outliers.

In this section, you will not only see Kats and Greykite outlier detection, but also Lady H.'s self-implemented methods! ðŸ˜‰

### Kats Outlier Detection (Univariate Time Series)

It seems that Kats' outlier detection only worked on univariate time series when Lady H. was doing the experimentations. Kats outlier detection is based on `n * IQR` idea, if a value is more than `n * IQR` away from Q1 (quantile 1) or Q3 (quantile 3), then this value will be considered as an outlier, you can adjust the value of `n`.

<p align="left">
<img src="https://github.com/lady-h-world/My_Garden/blob/main/images/Garden_Totem_images/notes/iqr.png" width="766" height="79" />
</p>

More detailed process is, Kats will decompose the time series first using additive or multiplicative decomposition, its purpose is to remove trend, seasonality and only keep residuals, then it detects points in the residual which are outside `n * IQR`. By default, Kats uses `n=3` but you can adjust its value with parameter `iqr_mult`.









[1]:https://github.com/lady-h-world/My_Garden/blob/main/reading_pages/the_queen.md
[2]:https://github.com/facebookresearch/Kats/issues/194#event-6385149398
